<!DOCTYPE html>
<html>
<head><title>Error Capture Test</title></head>
<body>
  <h1>Error Capture Test</h1>
  <pre id="log" style="background: #f0f0f0; padding: 10px;"></pre>
  
  <script>
    const log = document.getElementById('log');
    
    // Capture all errors
    window.addEventListener('error', (event) => {
      log.textContent += `\n❌ ERROR: ${event.message}\n`;
      log.textContent += `   File: ${event.filename}\n`;
      log.textContent += `   Line: ${event.lineno}:${event.colno}\n`;
      console.error('Error captured:', event);
    });
    
    log.textContent = 'Loading SysADLBase.js...\n';
    console.log('About to load SysADLBase.js');
  </script>
  
  <script src="./sysadl-framework/SysADLBase.js" onerror="document.getElementById('log').textContent += '\n❌ SCRIPT LOAD FAILED!\n'"></script>
  
  <script>
    log.textContent += '\nScript tag executed.\n';
    log.textContent += 'typeof window.SysADLBase: ' + typeof window.SysADLBase + '\n';
    
    if (window.SysADLBase) {
      log.textContent += '\n✅ SUCCESS!\n';
      log.textContent += 'Exports: ' + Object.keys(window.SysADLBase).slice(0, 5).join(', ') + '...\n';
      log.style.color = 'green';
    } else {
      log.textContent += '\n❌ window.SysADLBase is undefined\n';
      log.textContent += '\nChecking window keys with "Sys":\n';
      const sysKeys = Object.keys(window).filter(k => k.toLowerCase().includes('sys'));
      log.textContent += sysKeys.join(', ') || '(none)';
      log.style.color = 'red';
    }
  </script>
</body>
</html>
